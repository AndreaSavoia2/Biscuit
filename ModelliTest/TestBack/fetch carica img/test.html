<!DOCTYPE html>
<html>
<head>
    <title>Recupera Immagine</title>
</head>
<body>
    <button id="loadImage">Carica Immagine</button>
    <div id="imageContainer"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
    const loadImageButton = document.getElementById('loadImage');
    const imageContainer = document.getElementById('imageContainer');

    loadImageButton.addEventListener('click', async () => {
        try {
            // Sostituisci 'id_dell_immagine' con l'ID effettivo dell'immagine da recuperare
            const imageId = '2';
            const response = await fetch(`http://localhost:9000/api/img/${imageId}`); // Assicurati di utilizzare il percorso corretto

            if (response.status === 200) {
                const blob = await response.blob();
                const imageUrl = URL.createObjectURL(blob);

                const imageElement = document.createElement('img');
                imageElement.src = imageUrl;
                imageContainer.innerHTML = '';
                imageContainer.appendChild(imageElement);
            } else {
                imageContainer.innerHTML = 'Errore durante il recupero dell\'immagine.';
            }
        } catch (error) {
            console.error(error);
            imageContainer.innerHTML = 'Si Ã¨ verificato un errore durante il recupero dell\'immagine.';
        }
    });
});

    </script>
</body>
</html>